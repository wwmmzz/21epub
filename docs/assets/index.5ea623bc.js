var I=Object.defineProperty,N=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var M=(t,e,n)=>e in t?I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||(e={}))S.call(e,n)&&M(t,n,e[n]);if(E)for(var n of E(e))P.call(e,n)&&M(t,n,e[n]);return t},$=(t,e)=>N(t,O(e));import{j as z,r as y,R as X,a as Y}from"./vendor.ce2b55dc.js";const A=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};A();const d=z.exports.jsx,F=z.exports.jsxs,x=z.exports.Fragment,T=({mask:t})=>{const{pos:[e,n],size:[u,o]}=t;return d("svg",{className:"mask",style:{transform:`translate(${e}px, ${n}px)`,width:`${u}px`,height:`${o}px`}})},B=({item:t})=>{const{pos:[e,n],size:[u,o],type:s,actived:f,value:v}=t;let p="item";return f&&(p+=" actived"),d("div",{className:p,style:{transform:`translate(${e}px, ${n}px)`,width:`${u}px`,height:`${o}px`},"data-type":s,children:d("div",{className:"el-button-mix",children:v})})},D=({itemGroup:t,mask:e})=>F(x,{children:[e?d(T,{mask:e}):d(x,{}),t.map(n=>d(B,{item:n},n.id))]}),b=[{type:"img",id:"img_8ua7",pos:[80,100],size:[360,250],value:"imac"},{type:"img",id:"img_dw54",pos:[300,220],size:[160,220],value:"ipad"},{type:"img",id:"img_k4d5",pos:[60,300],size:[70,140],value:"iphone"},{type:"blk",id:"blk_n7ch",pos:[540,60],size:[300,180],value:"block 1"},{type:"blk",id:"blk_fql5",pos:[540,260],size:[300,60],value:"block 2"},{type:"blk",id:"blk_1e4v",pos:[540,340],size:[300,60],value:"block 3"},{type:"btn",id:"btn_5vc5",pos:[540,420],size:[60,60],value:"btn 1"},{type:"btn",id:"btn_ob4i",pos:[620,420],size:[60,60],value:"btn 2"},{type:"btn",id:"btn_yg9m",pos:[700,420],size:[60,60],value:"btn 3"},{type:"btn",id:"btn_uuua",pos:[780,420],size:[60,60],value:"btn 4"}];var C=()=>{const t=document.getElementById("root"),e=r=>{const i=Math.abs(r.pageX-t.offsetLeft-v.current[0]),l=Math.abs(r.pageY-t.offsetTop-v.current[1]),a=[Math.min(v.current[0],r.pageX-t.offsetLeft),Math.min(v.current[1],r.pageY-t.offsetTop)];p.current=n(a,[i,l]),p.current.item={pos:a,size:[i,l]},w(p.current.item);const m=b.map(c=>({current:n(c.pos,c.size),item:c})).filter(c=>u(c.current.v1,p.current.h1)||u(c.current.v1,p.current.h2)||u(c.current.v2,p.current.h1)||u(c.current.v2,p.current.h2)||u(p.current.v1,c.current.h1)||u(p.current.v2,c.current.h1)||u(p.current.v1,c.current.h2)||u(p.current.v2,c.current.h2)||o(p.current,c));if(m.length){const c=b.map(h=>m.find(j=>j.item.id===h.id)?$(_({},h),{actived:!0}):h);L(c),k.current={id:m.map(h=>h.item.id),value:m.map(h=>h.item.value)}}},n=(r,i)=>{const[l,a]=r,[g,m]=i;return{h1:[[l,a],[l+g,a]],h2:[[l,a+m],[l+g,a+m]],v1:[[l,a],[l,a+m]],v2:[[l+g,a],[l+g,a+m]]}},u=(r,i)=>r[0][0]>=i[0][0]&&r[0][0]<=i[1][0]&&i[0][1]>=r[0][1]&&i[0][1]<=r[1][1],o=(r,i)=>r.item.pos[0]<i.item.pos[0]&&r.item.pos[1]<i.item.pos[1]&&r.item.size[0]+r.item.pos[0]>i.item.pos[0]+i.item.size[0]&&r.item.size[1]+r.item.pos[1]>i.item.pos[1]+i.item.size[1],s=r=>{console.table(k.current),L(b),w(null),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",s)},f=r=>{v.current=[r.pageX-t.offsetLeft,r.pageY-t.offsetTop],document.addEventListener("mousemove",e),document.addEventListener("mouseup",s)};y.exports.useEffect(()=>{document.addEventListener("mousedown",f)},[]);const v=y.exports.useRef([0,0]),p=y.exports.useRef(),k=y.exports.useRef(),[G,L]=y.exports.useState(b),[R,w]=y.exports.useState(null);return d(D,{itemGroup:G,mask:R})},K=()=>d(x,{children:d(C,{})});X.render(d(Y.StrictMode,{children:d(K,{})}),document.getElementById("root"));
