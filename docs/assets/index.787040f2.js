var D=Object.defineProperty,G=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var $=(s,t,e)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,j=(s,t)=>{for(var e in t||(t={}))O.call(t,e)&&$(s,e,t[e]);if(_)for(var e of _(t))F.call(t,e)&&$(s,e,t[e]);return s},R=(s,t)=>G(s,A(t));import{j as N,r as v,R as I,a as P}from"./vendor.ce2b55dc.js";const T=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}};T();const i=N.exports.jsx,w=N.exports.jsxs,S=N.exports.Fragment,X=({mask:s})=>{const{pos:[t,e],size:[d,r]}=s;return i("svg",{className:"mask",style:{transform:`translate(${t}px, ${e}px)`,width:`${d}px`,height:`${r}px`}})},Y=({item:s})=>{const{pos:[t,e],size:[d,r],type:a,actived:o,value:c}=s;let h="item";return o&&(h+=" actived"),i("div",{className:h,style:{transform:`translate(${t}px, ${e}px)`,width:`${d}px`,height:`${r}px`},"data-type":a,children:i("div",{className:"el-button-mix",children:c})})},B=({itemGroup:s,mask:t})=>w(S,{children:[t?i(X,{mask:t}):i(S,{}),s.map(e=>i(Y,{item:e},e.id))]}),E=[{type:"img",id:"img_8ua7",pos:[80,100],size:[360,250],value:"imac"},{type:"img",id:"img_dw54",pos:[300,220],size:[160,220],value:"ipad"},{type:"img",id:"img_k4d5",pos:[60,300],size:[70,140],value:"iphone"},{type:"blk",id:"blk_n7ch",pos:[540,60],size:[300,180],value:"block 1"},{type:"blk",id:"blk_fql5",pos:[540,260],size:[300,60],value:"block 2"},{type:"blk",id:"blk_1e4v",pos:[540,340],size:[300,60],value:"block 3"},{type:"btn",id:"btn_5vc5",pos:[540,420],size:[60,60],value:"btn 1"},{type:"btn",id:"btn_ob4i",pos:[620,420],size:[60,60],value:"btn 2"},{type:"btn",id:"btn_yg9m",pos:[700,420],size:[60,60],value:"btn 3"},{type:"btn",id:"btn_uuua",pos:[780,420],size:[60,60],value:"btn 4"}];var U=()=>{const s=n=>{const l=Math.abs(n.pageX-p.current.offsetLeft-o.current[0]),f=Math.abs(n.pageY-p.current.offsetTop-o.current[1]),m=[Math.min(o.current[0],n.pageX-p.current.offsetLeft),Math.min(o.current[1],n.pageY-p.current.offsetTop)];c.current=t(m,[l,f]),c.current.item={pos:m,size:[l,f]},x(c.current.item);const g=E.map(u=>({current:t(u.pos,u.size),item:u})).filter(u=>e(u.current.v1,c.current.h1)||e(u.current.v1,c.current.h2)||e(u.current.v2,c.current.h1)||e(u.current.v2,c.current.h2)||e(c.current.v1,u.current.h1)||e(c.current.v2,u.current.h1)||e(c.current.v1,u.current.h2)||e(c.current.v2,u.current.h2)||d(c.current,u));if(g.length){const u=E.map(z=>g.find(C=>C.item.id===z.id)?R(j({},z),{actived:!0}):z);y(u),h.current={id:g.map(z=>z.item.id),value:g.map(z=>z.item.value)}}},t=(n,l)=>{const[f,m]=n,[L,g]=l;return{h1:[[f,m],[f+L,m]],h2:[[f,m+g],[f+L,m+g]],v1:[[f,m],[f,m+g]],v2:[[f+L,m],[f+L,m+g]]}},e=(n,l)=>n[0][0]>=l[0][0]&&n[0][0]<=l[1][0]&&l[0][1]>=n[0][1]&&l[0][1]<=n[1][1],d=(n,l)=>n.item.pos[0]<l.item.pos[0]&&n.item.pos[1]<l.item.pos[1]&&n.item.size[0]+n.item.pos[0]>l.item.pos[0]+l.item.size[0]&&n.item.size[1]+n.item.pos[1]>l.item.pos[1]+l.item.size[1],r=n=>{console.table(h.current),y(E),x(null),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",r)},a=n=>{o.current=[n.pageX-p.current.offsetLeft,n.pageY-p.current.offsetTop],document.addEventListener("mousemove",s),document.addEventListener("mouseup",r)};v.exports.useEffect(()=>{document.addEventListener("mousedown",a)},[]);const o=v.exports.useRef([0,0]),c=v.exports.useRef(),h=v.exports.useRef(),p=v.exports.useRef(),[k,y]=v.exports.useState(E),[b,x]=v.exports.useState(null);return w("div",{id:"containal",ref:p,children:[i(B,{itemGroup:k,mask:b}),";"]})};const K="https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json";let M=[];function H(){const[s,t]=v.exports.useState([]),[e,d]=v.exports.useState([]);v.exports.useEffect(()=>{r()},[]);const r=async()=>{M=await fetch(K).then(o=>o.json()),t(M)},a=o=>{if(o){let c=[];const h=s.filter(p=>{const k=(p.city+","+p.state).toLowerCase().split(""),y=o.toLowerCase().split("");let b=0,x=0,n=[];for(;b<y.length&&x<k.length;)k[x]==y[b]&&(b+=1,n.push(x)),x+=1;return b==y.length&&c.push(n),b==y.length});d(c),t(h)}else d([]),t(M)};return w("form",{className:"search-form",id:"root",children:[i("input",{type:"text",className:"search",placeholder:"City or State",onChange:o=>a(o.target.value)}),i("ul",{className:"suggestions",children:s.length&&s.map((o,c)=>w("li",{children:[w("span",{className:"name",children:[(o.city+","+o.state).split("").map((h,p)=>e.length&&e[c].includes(p)?i("span",{style:{backgroundColor:"orange"},children:h},p):i("span",{children:h},p)),o.state]}),i("span",{className:"population",children:o.population})]},c))||i("li",{children:"\u6839\u636E\u8F93\u5165\u7B5B\u9009\u6570\u636E"})})]})}var J=()=>w("div",{children:[i("div",{id:"element-select",children:i(U,{})}),i("div",{children:i(H,{})})]});I.render(i(P.StrictMode,{children:i(J,{})}),document.getElementById("root"));
